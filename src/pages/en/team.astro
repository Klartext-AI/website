---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Footer from '../../components/Footer.astro';

const title = 'Our Team - Klartext AI';
const description = 'Meet the team behind Klartext AI - experts from research and practice.';
const BASE = import.meta.env.BASE_URL;

const teamMembers = [
  {
    name: "Anna Poledna",
    role: "Marketing & Communications Associate",
    image: `${BASE}team/anna.png`,
    linkedin: "https://www.linkedin.com/in/anna-poledna-19766531b/",
    bio: [
      "International academic background in data analysis and biosciences.",
      "AI enthusiast passionate about interdisciplinary projects that connect people, ideas, and technology."
    ]
  },
  {
    name: "Daniel Toth",
    role: "COO",
    image: `${BASE}team/daniel.png`,
    linkedin: "https://www.linkedin.com/in/daniel-toth-381b0b214/",
    bio: [
      "Already during my studies at TU Wien, I worked for over six years at the renowned Fraunhofer Austria Institute.",
      "During this time, I had the privilege of working alongside Europe's leading experts on developing and implementing pioneering AI solutions.",
      "From innovative prototypes to large-scale industrial applications – I was able to realize projects that serve today as references for the practical application of artificial intelligence.",
      "These experiences showed me how technical excellence and the highest quality standards create measurable value for companies."
    ]
  },
  {
    name: "Felix Krause",
    role: "CTO",
    image: `${BASE}team/felix.png`,
    linkedin: "https://www.linkedin.com/in/f-krause-ai/",
    bio: [
      "My economics studies showed me how closely people, organizations, and society are intertwined.",
      "Through my Master's in Data Science, I learned to make these connections visible in data.",
      "For me, artificial intelligence is the tool with which we can not only better understand but also shape the world.",
      `As Chief Technology Officer of Klartext AI, I combine analytical thinking with technical implementation. My goal: to develop AI solutions that demonstrably work – reliable, understandable, and with real benefits for companies and society. Additionally, I am on the board of the tech network <a href=\"https://ai-mission.eu/\" target=\"_blank\" rel=\"noopener noreferrer\">AIM</a>, which unites 400 tech experts from Europe and regularly organizes popular hackathons.`,
      "I am motivated by working with a strong team to deploy the latest technologies and live a work culture based on trust, curiosity, and enjoyment of work."
    ]
  },
  {
    name: "Hrvoje Ljubić",
    role: "Full-Stack Developer",
    image: `${BASE}team/hrvoje.png`,
    linkedin: null,
    bio: [
      "As a versatile software developer, I am a generalist who quickly dives into new topics.",
      "I don't restrict myself to specific tools or languages; I focus on finding the best solution for the problem at hand.",
      "My experience spans FinTech and ERP to AI chat systems, mobile apps, and gaming.",
      "With expertise in UI/UX design, I ensure that complex technology remains simple and intuitive for users."
    ]
  },
  {
    name: "Ondrej Hruby",
    role: "Leading AI & Full-Stack Engineer",
    image: `${BASE}team/ondrej.png`,
    linkedin: "https://www.linkedin.com/in/ondrej-hrubyml/",
    bio: [
      "I hold a Bachelor’s degree in Computer Science with a focus on Software Engineering and am currently pursuing a Master’s in Data Science and AI.",
      "I enjoy building end-to-end systems that combine intelligent features with scalable cloud pipelines.",
      "I’m especially motivated by challenges where AI can automate tedious tasks or unlock insights that weren’t accessible before and being part of products that will make a difference."
    ]
  },
  {
    name: "Ruben Hetfleisch",
    role: "CEO",
    image: `${BASE}team/ruben.png`,
    linkedin: "https://www.linkedin.com/in/ruben-hetfleisch-7372091a8/",
    bio: [
      "After completing my engineering degree at TU Darmstadt in 2022, I was able to build deep expertise in artificial intelligence at Fraunhofer Austria.",
      `As a board member of <a href=\"https://aiaustria.com/\" target=\"_blank\" rel=\"noopener noreferrer\">AI Austria</a>, Austria's largest AI network, I founded the GenAI Community with great passion – Austria's only platform for generative AI.`,
      "Technical progress and exchange with others are particularly valuable to me.",
      "That's why I am deeply committed to this field. My goal is to make AI accessible and useful for everyone."
    ]
  }
];
---

<BaseLayout title={title} description={description} lang="en" alwaysShowNav={true}>
  <div class="team-page">
    <div class="container">
      <header class="page-header fade-in">
        <h1>Our Team</h1>
        <p class="subtitle">The minds behind Klartext AI – Expertise from research, development, and practice</p>
      </header>

      <div class="team-grid">
        {teamMembers.map((member, index) => (
          <article class="member-tile fade-in" style={`animation-delay: ${index * 0.1}s`}>
            <div class="tile-header">
              <div class="member-image-wrapper">
                <img
                  src={member.image}
                  alt={member.name}
                  class="member-image"
                  loading="lazy"
                />
              </div>
              <div class="member-info">
                <h2 class="member-name">{member.name}</h2>
                <p class="member-role">{member.role}</p>
                {member.linkedin && (
                  <a
                    href={member.linkedin}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="linkedin-icon"
                    aria-label={`Visit ${member.name} on LinkedIn`}
                  >
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                      <rect x="2" y="9" width="4" height="12"/>
                      <circle cx="4" cy="4" r="2"/>
                    </svg>
                  </a>
                )}
              </div>
            </div>
            <div class="member-bio">
              <ul class="bio-list">
                {member.bio.slice(0, 2).map((point) => (
                  <li class="bio-point bio-preview" set:html={point}></li>
                ))}
                {member.bio.length > 2 && member.bio.slice(2).map((point) => (
                  <li class="bio-point bio-extra" set:html={point}></li>
                ))}
              </ul>
              {member.bio.length > 2 && (
                <button class="expand-btn" data-expanded="false">
                  <span class="expand-text">Show more</span>
                  <svg class="expand-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 6l4 4 4-4"/>
                  </svg>
                </button>
              )}
            </div>
          </article>
        ))}
      </div>

      <section class="join-team-cta fade-in">
        <div class="cta-content">
          <h2 class="cta-headline">Join Our Team</h2>
          <p class="cta-description">We're looking for people who want to shape the future of AI with us – with passion, expertise, and the ambition to create real value.</p>
          <a href={`${BASE}en/karriere`} class="btn btn-primary btn-large">
            Discover open positions
            <svg width="20" height="20" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 12l4-4-4-4"/>
            </svg>
          </a>
        </div>
      </section>
    </div>
  </div>
  <Footer lang="en" />
</BaseLayout>

<style>
  .team-page {
    min-height: calc(100vh - 80px);
    /* Added more top padding (removed undefined --space-nav) */
    padding: var(--space-2xl) 0 var(--space-xl);
    background: transparent;
  }

  .page-header {
    text-align: center;
    margin-top: var(--space-lg); /* New: extra space below nav */
    margin-bottom: var(--space-2xl);
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .page-header h1 {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 300;
    margin-bottom: var(--space-md);
    color: var(--color-text-dark);
  }

  .subtitle {
    font-size: 1.25rem;
    line-height: 1.6;
    color: var(--color-text-muted);
  }

  .team-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-lg);
    max-width: 1400px;
    margin: 0 auto;
  }

  .member-tile {
    display: flex;
    flex-direction: column;
    padding: var(--space-lg);
    background: rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(18px) saturate(160%);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 8px 24px -6px rgba(36, 121, 190, 0.18);
    border-radius: 16px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .member-tile:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 48px -12px rgba(36, 121, 190, 0.3);
  }

  .tile-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: var(--space-md);
  }

  .member-image-wrapper {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    overflow: hidden;
    border: 2px solid rgba(36, 121, 190, 0.2);
    transition: all 0.4s ease;
    margin-bottom: var(--space-sm);
  }

  .member-tile:hover .member-image-wrapper {
    border-color: var(--color-blue);
    box-shadow: 0 8px 24px rgba(36, 121, 190, 0.25);
  }

  .member-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .member-tile:hover .member-image {
    transform: scale(1.05);
  }

  .member-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
  }

  .member-name {
    font-size: 1.5rem;
    font-weight: 500;
    color: var(--color-text-dark);
  }

  .member-role {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-blue);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .linkedin-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-top: var(--space-xs);
    padding: 0.5rem;
    background: rgba(36, 121, 190, 0.1);
    color: var(--color-blue);
    border-radius: 50%;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .linkedin-icon:hover {
    background: var(--color-blue);
    color: white;
    transform: translateY(-2px);
  }

  .linkedin-icon svg {
    width: 16px;
    height: 16px;
  }

  .member-bio {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .bio-list {
    list-style: none;
    padding: 0;
    margin: 0;
    flex: 1;
  }

  .bio-point {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: var(--color-text-body);
    margin-bottom: var(--space-sm);
    padding-left: 1.25rem;
    position: relative;
  }

  .bio-point::before {
    content: '•';
    position: absolute;
    left: 0;
    color: var(--color-blue);
    font-weight: bold;
  }

  .bio-point:last-child {
    margin-bottom: 0;
  }

  .bio-extra {
    display: none;
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: opacity 0.3s ease, max-height 0.3s ease;
  }

  .bio-extra.expanded {
    display: list-item;
    opacity: 1;
    max-height: 500px;
    margin-bottom: var(--space-sm);
  }

  .expand-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin-top: var(--space-md);
    padding: 0.5rem 1rem;
    background: transparent;
    border: 1px solid var(--color-blue);
    color: var(--color-blue);
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .expand-btn:hover {
    background: var(--color-blue);
    color: white;
  }

  .expand-icon {
    transition: transform 0.3s ease;
  }

  .expand-btn[data-expanded="true"] .expand-icon {
    transform: rotate(180deg);
  }

  @media (max-width: 1200px) {
    .team-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-md);
    }
  }

  .join-team-cta {
    margin-top: var(--space-2xl);
    padding: var(--space-2xl) var(--space-xl);
    background: linear-gradient(
      135deg,
      rgba(36, 121, 190, 0.05) 0%,
      rgba(76, 138, 197, 0.15) 100%
    );
    border-radius: 16px;
    text-align: center;
  }

  .cta-content {
    max-width: 700px;
    margin: 0 auto;
  }

  .cta-headline {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 300;
    margin-bottom: var(--space-md);
    color: var(--color-text-dark);
  }

  .cta-description {
    font-size: 1.125rem;
    line-height: 1.7;
    color: var(--color-text-body);
    margin-bottom: var(--space-xl);
  }

  .btn-large {
    padding: 1.125rem 2.5rem;
    font-size: 1.125rem;
    gap: 0.5rem;
  }

  .btn-large svg {
    transition: transform 0.3s ease;
  }

  .btn-large:hover svg {
    transform: translateX(4px);
  }

  @media (max-width: 768px) {
    .team-page {
      /* Increased top space on mobile as well */
      padding: var(--space-xl) 0 var(--space-lg);
    }

    .page-header {
      margin-bottom: var(--space-xl);
    }

    .team-grid {
      grid-template-columns: 1fr;
      gap: var(--space-md);
    }

    .member-tile {
      padding: var(--space-md);
    }

    .member-image-wrapper {
      width: 120px;
      height: 120px;
    }

    .member-name {
      font-size: 1.25rem;
    }

    .bio-point {
      font-size: 0.875rem;
    }

    .join-team-cta {
      margin-top: var(--space-xl);
      padding: var(--space-xl) var(--space-md);
    }

    .cta-headline {
      font-size: 1.75rem;
    }

    .cta-description {
      font-size: 1rem;
    }

    .btn-large {
      width: 100%;
      justify-content: center;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const expandButtons = document.querySelectorAll('.expand-btn');

    expandButtons.forEach(button => {
      button.addEventListener('click', () => {
        const isExpanded = button.getAttribute('data-expanded') === 'true';
        const tile = button.closest('.member-tile');
        if (!tile) {
          return;
        }

        const extraPoints = tile.querySelectorAll('.bio-extra');
        const expandText = button.querySelector('.expand-text');

        if (isExpanded) {
          // Collapse
          extraPoints.forEach(point => {
            point.classList.remove('expanded');
          });
          button.setAttribute('data-expanded', 'false');
          if (expandText) {
            expandText.textContent = 'Show more';
          }
        } else {
          // Expand
          extraPoints.forEach(point => {
            point.classList.add('expanded');
          });
          button.setAttribute('data-expanded', 'true');
          if (expandText) {
            expandText.textContent = 'Show less';
          }
        }
      });
    });
  });
</script>
