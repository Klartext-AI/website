---
interface Props {
  lang?: 'de' | 'en';
}

const { lang = 'de' } = Astro.props;

const content = {
  de: {
    headline: "Ihr Partner für anwendungsorientierte KI, die sich Ihren Prozessen anpasst - nicht umgekehrt.",
    cards: [
      {
        title: "Domain-Driven Design",
        short: "Wir denken in Branchen, nicht in Modellen",
        full: "Unsere Lösungen basieren auf tiefem Verständnis Ihrer Geschäftsprozesse und Fachdomäne, nicht auf generischen KI-Ansätzen."
      },
      {
        title: "Evaluation-Driven Engineering",
        short: "Evidenz statt Annahmen",
        full: "Jede Entscheidung wird durch systematische Evaluierung und Messungen validiert. Wir bauen auf Fakten, nicht auf Hoffnung."
      },
      {
        title: "Privacy by Design",
        short: "Sicher, konform, europäisch",
        full: "DSGVO-Konformität, EU AI Act Compliance und europäisches Hosting sind nicht optional, sondern Teil unseres Fundaments."
      }
    ]
  },
  en: {
    headline: "Your partner for precision-driven AI that fits your processes - not the other way around.",
    cards: [
      {
        title: "Domain-Driven Design",
        short: "We think in industries, not in models",
        full: "Our solutions are based on deep understanding of your business processes and domain expertise, not generic AI approaches."
      },
      {
        title: "Evaluation-Driven Engineering",
        short: "Evidence over assumptions",
        full: "Every decision is validated through systematic evaluation and measurement. We build on facts, not hope."
      },
      {
        title: "Privacy by Design",
        short: "Secure, compliant, European",
        full: "GDPR compliance, EU AI Act conformity, and European hosting are not optional but part of our foundation."
      }
    ]
  }
};

const text = content[lang];
---

<section id="value-proposition" class="value-prop section">
  <div class="container">
    <h2 class="value-prop-headline fade-in text-center">{text.headline}</h2>

    <div class="cards-grid">
      {text.cards.map((card, index) => (
        <div class="glass-card value-card fade-in" style={`animation-delay: ${index * 0.2}s`}>
          <div class="card-icon">
            {index === 0 && (
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M12 2a10 10 0 0 1 0 20 10 10 0 0 1 0-20z"/>
                <path d="M2 12c0-2.5 1-4.5 2.5-6"/>
                <path d="M22 12c0 2.5-1 4.5-2.5 6"/>
                <path d="M12 2v4"/>
                <path d="M12 18v4"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            )}
            {index === 1 && (
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
                <path d="M11 8v6"/>
                <path d="M8 11h6"/>
              </svg>
            )}
            {index === 2 && (
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
              </svg>
            )}
          </div>
          <h3 class="card-title">{card.title}</h3>
          <p class="card-short">{card.short}</p>
          <p class="card-full">{card.full}</p>
          <div class="card-link">
            <span>{lang === 'de' ? 'Mehr erfahren' : 'Learn how'}</span>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 12l4-4-4-4"/>
            </svg>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .value-prop {
    background: transparent;
  }

  .value-prop-headline {
    font-size: var(--font-size-h3);
    font-weight: 300;
    max-width: 900px;
    margin: 0 auto var(--space-xl);
    line-height: 1.5;
  }

  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-md);
    margin-top: var(--space-lg);
  }

  .value-card {
    position: relative;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-icon {
    margin: 0 auto var(--space-sm);
    color: var(--color-blue);
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.4s ease;
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 500;
    margin-bottom: var(--space-xs);
    color: var(--color-blue);
    text-align: center;
  }

  .card-short {
    font-size: 1rem;
    font-weight: 400;
    color: var(--color-text-dark);
    margin-bottom: var(--space-sm);
    text-align: center;
  }

  .card-full {
    font-size: 0.95rem;
    color: var(--color-text-muted);
    line-height: 1.6;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.4s ease;
    margin-bottom: 0;
  }

  .card-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-blue);
    font-size: 0.9rem;
    font-weight: 500;
    margin-top: var(--space-sm);
    opacity: 0;
    transform: translateX(-10px);
    transition: all 0.4s ease;
  }

  .card-link svg {
    transition: transform 0.3s ease;
  }

  /* Hover effects */
  .value-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 16px 40px -10px rgba(36, 121, 190, 0.3);
  }

  .value-card:hover .card-icon {
    transform: scale(1.1);
  }

  .value-card:hover .card-full {
    max-height: 200px;
    opacity: 1;
    margin-bottom: var(--space-sm);
  }

  .value-card:hover .card-link {
    opacity: 1;
    transform: translateX(0);
  }

  .value-card:hover .card-link svg {
    transform: translateX(4px);
  }

  @media (max-width: 768px) {
    .cards-grid {
      grid-template-columns: 1fr;
      gap: var(--space-sm);
    }

    .value-prop-headline {
      font-size: var(--font-size-h4);
    }

    /* Show full text on mobile without hover */
    .card-full {
      max-height: none;
      opacity: 1;
      margin-bottom: var(--space-sm);
    }

    .card-link {
      opacity: 1;
      transform: translateX(0);
    }
  }
</style>
